= dark_container do
  
  - if notice
    %p#notice= notice
  - if alert 
    %p#alert.text-danger= alert

  %p
    %b Name:
    = @project.name
  %p
    %b Description:
    = @project.description

  = link_to 'Edit', edit_project_path(@project), class: "btn btn-outline-info"

  = link_to 'Back', projects_path, class: "btn btn-outline-primary"

  %h2.text-info.mt-4 Tasks for this Project

  - if @tasks.any?
    .table-responsive
      %table.table.table-hover.table-dark.table-striped.table-bordered.rounded
        %thead
          %tr
            %th.text-center Subject
            %th.text-center Status
            %th.text-center Assigned To
            %th.text-center Attachments count
            %th
        %tbody
          - @tasks.each do |task|
            %tr
              %td.text-center= task.subject
              %td.text-center= task.status
              %td.text-center= task.user&.email || "Unassigned"
              %td.text-center= task.attachments.count
              %td.text-center
                = link_to 'Show', task_path(task), class: "btn btn-sm btn-outline-info mx-1"
                = link_to 'Edit', edit_task_path(task), class: "btn btn-sm btn-outline-warning mx-1"
                = link_to 'Destroy', task_path(task), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-sm btn-outline-danger mx-1"
  - else
    %p.text-info No tasks yet for this project.

  .mt-3
    = link_to 'âž• Add New Task', new_task_path(project_id: @project.id), class: "btn btn-primary"

